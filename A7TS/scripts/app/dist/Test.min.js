var __decorate=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,c=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,n);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(c=(r<3?i(c):r>3?i(e,o,c):i(e,o))||c);return r>3&&c&&Object.defineProperty(e,o,c),c},__extends=this&&this.__extends||function(t,e){function __(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(__.prototype=e.prototype,new __)},__param=this&&this.__param||function(t,e){return function(o,n){e(o,n,t)}},A7;!function(t){var e;!function(t){var e=function(){function ICacheProvider(){}return ICacheProvider}();t.ICacheProvider=e}(e=t.Cache||(t.Cache={}))}(A7||(A7={}));var A7;!function(t){var e;!function(t){var e=function(){function Collection(t){void 0===t&&(t=[]),this._collection=t}return Collection.prototype.Select=function(t){return new Collection(_.map(this._collection,t)||[])},Collection.prototype.Where=function(t){return new Collection(_.filter(this._collection,t)||[])},Collection.prototype.ForEach=function(t){_.forEach(this._collection,t)},Collection.prototype.OrderByProperty=function(t,e){return void 0===e&&(e="asc"),this._collection=_.sortBy(this._collection,t),"desc"==e&&this._collection.reverse(),this},Collection.prototype.OrderByIterator=function(t){return this._collection=_.sortBy(this._collection,t),this},Collection.prototype.Pluck=function(t){return new Collection(_.pluck(this._collection,t)||[])},Collection.prototype.Reduce=function(t,e){return _.reduce(this._collection,t,e)},Collection.prototype.Any=function(t){return _.some(this._collection,t)},Collection.prototype.Contains=function(t){return _.contains(this._collection,t)},Collection.prototype.First=function(t){return _.find(this._collection,t)},Collection.prototype.Reverse=function(){return new Collection(this._collection.reverse())},Collection.prototype.Union=function(t){return new Collection(_.union(this._collection,t))},Collection.prototype.Length=function(){return this.Count()},Collection.prototype.Count=function(){return this._collection.length},Collection.prototype.Item=function(t){return this._collection[t]},Collection.prototype.Push=function(t){this._collection.push(t)},Collection.prototype.Add=function(t){this.Push(t)},Collection.prototype.ToArray=function(){return this._collection},Collection.prototype.Take=function(t){return new Collection(_.take(this._collection,t))},Collection.prototype.GroupBy=function(t){var e=_.groupBy(this._collection,t);return e},Collection.prototype.Sum=function(t){var e=0;return _.each(this._collection,function(o,n){e+=o[t]}),e},Collection.prototype.Unique=function(){return new Collection(_.uniq(this._collection))},Collection}();t.Collection=e}(e=t.Collections||(t.Collections={}))}(A7||(A7={}));var A7;!function(t){var e;!function(t){var e=function(){function ICollection(){}return ICollection}();t.ICollection=e}(e=t.Collections||(t.Collections={}))}(A7||(A7={}));var A7;!function(t){var e;!function(e){var o;!function(e){function executeRequest(t,o,n,i,r,c){var a=$.Deferred();return"application/json"==c&&(o=JSON.stringify(o)),$.ajax(t,{type:i,data:o,dataType:n,contentType:c,cache:r,success:function(t){a.resolve(t)},error:function(t,o,n){(e.ErrorHandler||[])[t.status]&&e.ErrorHandler[t.status](t,o,n),a.reject(t,o,n)}}),a.promise()}function Put(t,e,o,n,i){return void 0===o&&(o="json"),void 0===n&&(n=!1),void 0===i&&(i="application/json"),executeRequest(t,e,o,"put",!1,i)}function Get(t,e,o,n,i){return void 0===o&&(o="json"),void 0===n&&(n=!1),void 0===i&&(i="application/x-www-form-urlencoded"),executeRequest(t,e,o,"get",!1,i)}function GetCollection(e,o,n,i,r){void 0===n&&(n="json"),void 0===i&&(i=!1),void 0===r&&(r="application/x-www-form-urlencoded");var c=$.Deferred();return executeRequest(e,o,n,"get",!1,r).then(function(e){return c.resolve(new t.Collections.Collection(e))},c.reject),c.promise()}function GetHtml(t,e){return void 0===e&&(e=!1),this.Get(t,null,"html",e)}function Post(t,e,o,n,i){return void 0===o&&(o="json"),void 0===n&&(n=!1),void 0===i&&(i="application/json"),executeRequest(t,e,o,"post",!1,i)}function Delete(t,e,o,n,i){return void 0===o&&(o="json"),void 0===n&&(n=!1),void 0===i&&(i="application/json"),executeRequest(t,e,o,"delete",!1,i)}e.ErrorHandler=[],e.Put=Put,e.Get=Get,e.GetCollection=GetCollection,e.GetHtml=GetHtml,e.Post=Post,e.Delete=Delete}(o=e.HttpClient||(e.HttpClient={}))}(e=t.Http||(t.Http={}))}(A7||(A7={}));var A7;!function(t){var e;!function(t){var e=function(){function ComponentOptions(){this.LoadViewOnInit=!0}return ComponentOptions}();t.ComponentOptions=e}(e=t.Configuration||(t.Configuration={}))}(A7||(A7={}));var A7;!function(t){var e;!function(t){var e=function(){function ConfigurationFile(){this.EnableLogging=!0,this.Components=[]}return ConfigurationFile}();t.ConfigurationFile=e}(e=t.Configuration||(t.Configuration={}))}(A7||(A7={}));var A7;!function(t){var e;!function(e){var o=function(){function ConfigurationManager(){}return ConfigurationManager.Initialize=function(e){var o=this;if(void 0===e&&(e=null),e)return this.processConfig(e),$.Deferred().resolve(this.AppConfiguration);var n=t.Http.HttpClient.Get("/scripts/appconfig.json");return n.then(function(t){o.processConfig(t)}),n},ConfigurationManager.GetAllComponentOptions=function(){var e=this;if(!this._componentOptions){var o=" |",n=new t.Collections.Collection(this.AppConfiguration.Components).Select(function(t){return t.Name}).ToArray().join(o)+o,i=new t.Collections.Collection(this._decoratorComponentOptions),r=i.Where(function(t){return n.indexOf(t.Name+o)<0});this._componentOptions=new t.Collections.Collection(this.AppConfiguration.Components),r.ForEach(function(t){e._componentOptions.Add(t)})}return this._componentOptions},ConfigurationManager.GetComponentOptions=function(t){return this.GetAllComponentOptions().First(function(e){return e.Name==t})},ConfigurationManager.RegisterDecoratorComponentOptions=function(t){this._decoratorComponentOptions.push(t)},ConfigurationManager.processConfig=function(t){this.AppConfiguration=t,this.AppConfiguration.Components=this.GetAllComponentOptions().ToArray()},ConfigurationManager._decoratorComponentOptions=[],ConfigurationManager.AppConfiguration=new e.ConfigurationFile,ConfigurationManager}();e.ConfigurationManager=o}(e=t.Configuration||(t.Configuration={}))}(A7||(A7={}));var A7;!function(t){var e;!function(t){var e=function(){function ObjectUtility(){}return ObjectUtility.ObjectsEqual=function(t,e){for(var o in t)if(e[o]!=t[o])return!1;return!0},ObjectUtility.ExtendObject=function(t,e){_.extend(t,e)},ObjectUtility.Map=function(t,e){var o=[];for(var n in e)o.push(n);for(var n in t)$.inArray(n,o)>-1&&(e[n]=t[n]);return e},ObjectUtility.GetObjectName=function(t){return t.constructor.toString().match(/function\s*(\w+)/)[1]},ObjectUtility}();t.ObjectUtility=e}(e=t.Utilities||(t.Utilities={}))}(A7||(A7={}));var A7;!function(t){var e;!function(t){var e=function(){function EmptyLogger(){}return EmptyLogger}();t.EmptyLogger=e}(e=t.Logging||(t.Logging={}))}(A7||(A7={}));var A7;!function(t){var e;!function(t){var e=function(){function ConsoleLogger(t){this._loggerName=t}return ConsoleLogger.prototype.getMessagePrefix=function(){return this._loggerName?"["+this._loggerName+"] ":""},ConsoleLogger.prototype.assert=function(t,e){for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];console.assert(t,this.getMessagePrefix()+(e||""),o)},ConsoleLogger.prototype.clear=function(){console.clear()},ConsoleLogger.prototype.count=function(t){console.count(this.getMessagePrefix()+(t||""))},ConsoleLogger.prototype.debug=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];console.debug(this.getMessagePrefix()+(t||""))},ConsoleLogger.prototype.dir=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];console.dir(t,e)},ConsoleLogger.prototype.dirxml=function(t){console.dirxml(t)},ConsoleLogger.prototype.error=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];console.error(this.getMessagePrefix()+t,e)},ConsoleLogger.prototype.group=function(t){console.group(this.getMessagePrefix()+t||"")},ConsoleLogger.prototype.groupCollapsed=function(t){console.groupCollapsed(this.getMessagePrefix()+t||"")},ConsoleLogger.prototype.groupEnd=function(){console.groupEnd()},ConsoleLogger.prototype.info=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];console.info(this.getMessagePrefix()+(t||""),e)},ConsoleLogger.prototype.log=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];console.log(this.getMessagePrefix()+(t||""),e)},ConsoleLogger.prototype.msIsIndependentlyComposed=function(t){return console.msIsIndependentlyComposed(t)},ConsoleLogger.prototype.profile=function(t){console.profile(this.getMessagePrefix()+(t||""))},ConsoleLogger.prototype.profileEnd=function(){console.profileEnd()},ConsoleLogger.prototype.select=function(t){console.select(t)},ConsoleLogger.prototype.time=function(t){console.time(this.getMessagePrefix()+(t||""))},ConsoleLogger.prototype.timeEnd=function(t){console.timeEnd(this.getMessagePrefix()+(t||""))},ConsoleLogger.prototype.trace=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];console.trace(this.getMessagePrefix()+(t||""),e)},ConsoleLogger.prototype.warn=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];console.warn(this.getMessagePrefix()+(t||""),e)},ConsoleLogger}();t.ConsoleLogger=e}(e=t.Logging||(t.Logging={}))}(A7||(A7={}));var A7;!function(t){var e;!function(t){var e=function(){function ILogger(){}return ILogger}();t.ILogger=e}(e=t.Logging||(t.Logging={}))}(A7||(A7={}));var A7;!function(t){var e;!function(e){var o=function(){function LogManager(){}return LogManager.GetLogger=function(o){if("undefined"==typeof console||"undefined"==typeof console.log)return new e.EmptyLogger;var n=t.Configuration.ConfigurationManager.AppConfiguration;return n.EnableLogging?new e.ConsoleLogger(o):new e.EmptyLogger},LogManager}();e.LogManager=o}(e=t.Logging||(t.Logging={}))}(A7||(A7={}));var a7;!function(t){function injectable(){return inversify.injectable()}t.injectable=injectable}(a7||(a7={}));var A7;!function(t){var e;!function(e){var o=function(){function Component(){this._initialized=!1;var e=t.Utilities.ObjectUtility.GetObjectName(this);this._logger=t.Logging.LogManager.GetLogger(e),this._componentOptions=t.Configuration.ConfigurationManager.GetComponentOptions(e),this._$el=$(this._componentOptions.Selector)}return Component.prototype._initialize=function(t,e){var o=this;void 0===t&&(t=null),void 0===e&&(e=null);var n=$.Deferred(),i=e||this._componentOptions.ViewUrl;if(this._initialized)this._$el.show("fade",200),n.resolve();else{var r;r=i&&(this._componentOptions.LoadViewOnInit||e)?this._loadView(i):$.Deferred().resolve().promise(),r.then(function(){t?t().then(function(){o._$el.show("fade",200),o._initialized=!0,n.resolve()}):(o._$el.show("fade",200),n.resolve()),o._initialized=!0})}return n.promise()},Component.prototype._loadView=function(e,o){var n=this;void 0===o&&(o=!1);var i=$.Deferred();return t.Http.HttpClient.GetHtml(e,o).then(function(t){n._$el.html(t),i.resolve()}),i.promise()},Component.prototype.Hide=function(){this._$el.hide()},Component.prototype.Show=function(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];this._$el.show("fade",200)},Component=__decorate([a7.injectable()],Component)}();e.Component=o}(e=t.Core||(t.Core={}))}(A7||(A7={}));var a7;!function(t){function component(t,e,o){function resolveComponentName(t){return A7.Utilities.ObjectUtility.GetObjectName(t.prototype)}function autoResolveComponentSelector(t){var e=resolveComponentName(t);return"#"+e.substr(0,1).toLowerCase()+e.substr(1,e.length-1)}return void 0===t&&(t=null),void 0===e&&(e=!0),void 0===o&&(o=null),function(n){var i=resolveComponentName(n);o=o||autoResolveComponentSelector(n),A7.Configuration.ConfigurationManager.RegisterDecoratorComponentOptions({Name:i,Selector:o,LoadViewOnInit:e,ViewUrl:t})}}t.component=component}(a7||(a7={}));var a7;!function(t){function bindTemplate(t){return void 0===t&&(t=null),function(e,o){var n,i=function(){if(!n){var e=0==o.indexOf("_")?o.substr(1,o.length-1):o,i=o.substr(0,1).toLowerCase()+o.substr(1,o.length-1),r=t?$(t):null;t&&r.length||(r=this._$el.find('[data-a7-template="'+e+'"]')),r.length||(r=this._$el.find('[data-a7-template="'+i+'"]')),r.length||this._logger.error("Could not auto bind property "+o+".  Could not find html element via selectors"+t?" "+t+", ":" [data-a7-template="+e+"] or [data-a7-template="+i+"]"),n=Handlebars.compile(r.html())}return n};delete this[o]&&Object.defineProperty(e,o,{get:i,set:function(t){n=t},enumerable:!0,configurable:!0})}}t.bindTemplate=bindTemplate}(a7||(a7={}));var a7;!function(t){function bindProperty(t){return void 0===t&&(t=null),function(e,o){var n,i=function(){if(!n){var e=0==o.indexOf("_")?o.substr(1,o.length-1):o,i=o.substr(0,1).toLowerCase()+o.substr(1,o.length-1);n=t?$(t):null,t&&n.length||(n=this._$el.find('[name="'+e+'"]')),n.length||(n=this._$el.find('[name="'+i+'"]')),n.length||this._logger.error("Could not auto bind property "+o+".  Could not find html element via selectors"+t?" "+t+", ":" [name="+e+"] or [name="+i+"]")}return n};delete this[o]&&Object.defineProperty(e,o,{get:i,set:function(t){n=t},enumerable:!0,configurable:!0})}}t.bindProperty=bindProperty}(a7||(a7={}));var A7;!function(t){var e;!function(e){var o=function(){function Service(){this.CREATED_EVENT="Created",this.UPDATED_EVENT="Updated",this.DELETED_EVENT="Deleted"}return Service.prototype.handleWebRequest=function(t,e){void 0===e&&(e=null);var o=$.Deferred(),n=this;return $.when(t).done(function(t){!e||$(n).trigger(e,[t]),o.resolve(t)}).fail(o.reject),o.promise()},Service.prototype.GetUrl=function(){return this._url},Service.prototype.Insert=function(e){return this.handleWebRequest(t.Http.HttpClient.Post(this._url,e),this.CREATED_EVENT)},Service.prototype.Update=function(e){return this.handleWebRequest(t.Http.HttpClient.Put(this._url,e),this.UPDATED_EVENT)},Service.prototype.DeleteById=function(e){return this.handleWebRequest(t.Http.HttpClient.Delete(this._url+"/"+e),this.DELETED_EVENT)},Service.prototype.OnCreate=function(t){$(this).on(this.CREATED_EVENT,t)},Service.prototype.OnUpdate=function(t){$(this).on(this.UPDATED_EVENT,t)},Service.prototype.OnDelete=function(t){$(this).on(this.DELETED_EVENT,t)},Service.prototype.OnModified=function(t){var e=this;this.OnCreate(function(o,n){t(o,n,e.CREATED_EVENT)}),this.OnUpdate(function(o,n){t(o,n,e.UPDATED_EVENT)}),this.OnDelete(function(o,n){t(o,n,e.DELETED_EVENT)})},Service}();e.Service=o}(e=t.Services||(t.Services={}))}(A7||(A7={}));var Models;!function(t){var e=function(){function User(){this.UserName=null,this.FirstName=null,this.LastName=null}return User}();t.User=e}(Models||(Models={}));var Services;!function(t){var e=function(){function ITestService(){}return ITestService}();t.ITestService=e;var o=function(){function TestService(){}return TestService.prototype.GetUsers=function(){return new A7.Collections.Collection([{UserName:"bdylan",FirstName:"Bob",LastName:"Dylan"},{UserName:"jlenon",FirstName:"John",LastName:"Lenon"},{UserName:"jdenver",FirstName:"John",LastName:"Denver"}])},TestService=__decorate([a7.injectable()],TestService)}();t.TestService=o}(Services||(Services={}));var a7;!function(t){function inject(t){return inversify.inject(t)}t.inject=inject}(a7||(a7={}));var Tests;!function(t){var e;!function(t){var e=function(t){function TestForm(e,o){t.call(this,"test"),this._userService=e,this._cacheProvider=o}return __extends(TestForm,t),TestForm.prototype.Show=function(){var t=this;this._initialize().then(function(){t._searchButton.click(function(e){var o=t._listTemplate({});t._cacheProvider.Get("Alien",function(){return $.Deferred().resolve("Who is an alien? ")}).then(function(e){alert(e+t._userService.GetUsers().First(function(t){return"John"==t.FirstName}).UserName+" "+o)})})})},__decorate([a7.bindProperty()],TestForm.prototype,"_searchButton",void 0),__decorate([a7.bindTemplate()],TestForm.prototype,"_listTemplate",void 0),TestForm=__decorate([a7.component("/scripts/tests/assets/components/testform.html"),__param(0,a7.inject(Services.ITestService)),__param(1,a7.inject(A7.Cache.ICacheProvider))],TestForm)}(A7.Core.Component);t.TestForm=e}(e=t.Components||(t.Components={}))}(Tests||(Tests={}));var A7;!function(t){var e;!function(e){var o=function(){function BrowserCache(){this._cache=[]}return BrowserCache.prototype.Get=function(t,e){return this._cache[t]||(this._cache[t]=e()),this._cache[t]},BrowserCache.prototype.Remove=function(t){delete this._cache[t]},BrowserCache.prototype.RemoveByStartsWith=function(e){var o=this,n=new t.Collections.Collection;for(var i in this._cache)0==i.indexOf(e)&&n.Add(i);n.ForEach(function(t){delete o._cache[t]})},BrowserCache.prototype.Flush=function(){this._cache=[]},BrowserCache=__decorate([a7.injectable()],BrowserCache)}();e.BrowserCache=o}(e=t.Cache||(t.Cache={}))}(A7||(A7={}));var A7;!function(t){var e;!function(t){var e,o=function(){function IocContainer(){this._kernel=new inversify.Kernel}return IocContainer.GetContainer=function(){return e?e:e=new IocContainer},IocContainer.prototype.GetInstance=function(t){return this._kernel.get(t)},IocContainer.prototype.Register=function(t,e){this._kernel.bind(t).to(e)},IocContainer.prototype.RegisterSingleton=function(t,e){this._kernel.bind(t).to(e).inSingletonScope()},IocContainer.prototype.RegisterSelf=function(t){this._kernel.bind(t).toSelf()},IocContainer}();t.Container=o.GetContainer()}(e=t.Ioc||(t.Ioc={}))}(A7||(A7={}));var A7;!function(t){var e;!function(t){var e=function(){function Route(t,e){this.Url=t,this.Action=e}return Route}();t.Route=e}(e=t.Routing||(t.Routing={}))}(A7||(A7={}));var A7;!function(t){var e;!function(t){var e=function(){function INavigator(){}return INavigator}();t.INavigator=e}(e=t.Navigation||(t.Navigation={}))}(A7||(A7={}));var A7;!function(t){var e;!function(e){var o=function(){function Router(e){void 0===e&&(e=new t.Collections.Collection),this.Routes=e;var o=window.location.pathname+window.location.search;e.ForEach(function(t){return crossroads.addRoute(t.Url,t.Action)}),this.RouteTo(o)}return Router.prototype.processHtml4RelativePath=function(t,e){var o=t.substring(t.lastIndexOf("/")+1);return e=e.replace("./",""),o+"/"+e},Router.prototype.resolveHtml4Path=function(t){if(!(window.history&&history.pushState||t.indexOf("#")==-1)){var e=t.split("#")[1];if(0!=e.indexOf("/"))return this.processHtml4RelativePath(t,e)}return t},Router.prototype.RouteTo=function(t,e){void 0===e&&(e={});var o=window.location.hostname,n=window.location.port?":"+window.location.port:"",i=n?t.replace(n,""):t;i=this.resolveHtml4Path(i),i.indexOf(o)!=-1&&(i=i.split(o)[1]),crossroads.parse(i)},Router}();e.Router=o}(e=t.Routing||(t.Routing={}))}(A7||(A7={}));var A7;!function(t){var e;!function(e){var o=function(){function Navigator(){var t=this;this.STATE_CHANGE_EVENT="statechange",this._history=window.History,this._history.enabled&&this._history.Adapter.bind(window,"statechange",function(){var e=t._history.getState();$(t).trigger(t.STATE_CHANGE_EVENT,[{Url:e.url,Title:e.title,Data:e.data||{}}])})}return Navigator.prototype.handleStateChange=function(e,o){var n=this._history.getState();t.Utilities.ObjectUtility.ObjectsEqual(e.Data,n.data)&&e.Url==n.url||o(e)},Navigator.prototype.To=function(t,e,o,n){var i=this;void 0===e&&(e=null),void 0===o&&(o=""),void 0===n&&(n={});var r=window.location.protocol+"//"+window.location.host;t+=e?$.param(e):"",t.slice(0,r.length)!=r&&(t=r+("/"==t.slice(0,1)?t:t+="/"));var c={Url:t,Data:n};o&&(c.Title=o),this.handleStateChange(c,function(e){i._history.pushState(n,o,t)})},Navigator.prototype.RedirectTo=function(t){window.location.href=t},Navigator.prototype.Replace=function(t,e,o,n){var i=this;void 0===e&&(e=null),void 0===o&&(o=""),void 0===n&&(n={}),t+=e?$.param(e):"",this.handleStateChange({Url:t,Title:o,Data:n},function(e){i._history.replaceState(n,o,t)})},Navigator.prototype.Back=function(){this._history.back()},Navigator.prototype.Forward=function(){this._history.forward()},Navigator.prototype.Go=function(t){this._history.go(t)},Navigator.prototype.GetState=function(){var t=this._history.getState();return{Url:t.url,Title:t.title,Data:t.Data}},Navigator.prototype.OnNavigate=function(t){$(this).on(this.STATE_CHANGE_EVENT,function(e,o){t.call(this,o)})},Navigator}();e.Navigator=o}(e=t.Navigation||(t.Navigation={}))}(A7||(A7={}));var A7;!function(t){var e;!function(e){var o=function(){function Page(){var e=this;this._components=new t.Collections.Collection,this._logger=t.Logging.LogManager.GetLogger("Page"),t.Http.HttpClient.ErrorHandler[500]=function(t,o,n){e._logger.error("Internal Server Error: ",t," ",o," ",n)},this.Navigator=new t.Navigation.Navigator,this.Navigator.OnNavigate(function(t){e._components.ForEach(function(t){t.Hide()}),e.Router.RouteTo(t.Url,t.Data||null)})}return Page.prototype._initialize=function(){return t.Configuration.ConfigurationManager.Initialize()},Page.prototype.RegisterComponent=function(t){this._components.Add(t)},Page}();e.Page=o}(e=t.Core||(t.Core={}))}(A7||(A7={}));var TestPage=function(t){function TestPage(){var e=this;t.call(this),this._initialize().then(function(t){A7.Ioc.Container.Register(Services.ITestService,Services.TestService),A7.Ioc.Container.RegisterSingleton(A7.Cache.ICacheProvider,A7.Cache.BrowserCache),A7.Ioc.Container.RegisterSelf(Tests.Components.TestForm),e._cacheProvider=A7.Ioc.Container.GetInstance(A7.Cache.ICacheProvider);e._cacheProvider.Get("Alien",function(){return $.Deferred().resolve("What's John Lennon's username: ")});e._testForm=A7.Ioc.Container.GetInstance(Tests.Components.TestForm),e._testForm.Show()})}return __extends(TestPage,t),TestPage}(A7.Core.Page);$(function(){return new TestPage});