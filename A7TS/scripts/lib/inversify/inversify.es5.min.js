"use strict";(function(n){if(typeof exports=="object"&&typeof module!="undefined")module.exports=n();else if(typeof define=="function"&&define.amd)define([],n);else{var t;t=typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this;t.inversify=n()}})(function(){return function n(t,i,r){function u(f,o){var h,c,s;if(!i[f]){if(!t[f]){if(h=typeof require=="function"&&require,!o&&h)return h(f,!0);if(e)return e(f,!0);c=new Error("Cannot find module '"+f+"'");throw c.code="MODULE_NOT_FOUND",c;}s=i[f]={exports:{}};t[f][0].call(s.exports,function(n){var i=t[f][1][n];return u(i?i:n)},s,s.exports,n,t,i,r)}return i[f].exports}for(var e=typeof require=="function"&&require,f=0;f<r.length;f++)u(r[f]);return u}({1:[function(n,t,i){function o(n,t,i,u){var e=r.TAGGED;return f(e,n,t,u,i)}function s(n,t,i){var u=r.TAGGED_PROP;return f(u,n.constructor,t,i)}function f(n,t,i,r,f){var o={},c=typeof f=="number",l=f!==undefined&&c?f.toString():i,e,s,h;if(c===!0&&i!==undefined)throw new Error(u.INVALID_DECORATOR_OPERATION);if(Reflect.hasOwnMetadata(n,t)===!0&&(o=Reflect.getMetadata(n,t)),e=o[l],Array.isArray(e)!==!0)e=[];else for(s=0;s<e.length;s++)if(h=e[s],h.key===r.key)throw new Error(u.DUPLICATED_METADATA+" "+h.key);return e.push(r),o[l]=e,Reflect.defineMetadata(n,o,t),t}function e(n,t){Reflect.decorate(n,t)}function h(n,t){return function(i,r){t(i,r,n)}}function c(n,t,i){typeof i=="number"?e([h(i,n)],t):e([n],t)}var r=n("../constants/metadata_keys"),u=n("../constants/error_msgs");i.tagParameter=o;i.tagProperty=s;i.decorate=c},{"../constants/error_msgs":13,"../constants/metadata_keys":14}],2:[function(n,t,i){function e(n){return function(t,i,e){var o=new r["default"](f.INJECT_TAG,n);return u.tagParameter(t,i,e,o)}}var r=n("../planning/metadata"),u=n("./decorator_utils"),f=n("../constants/metadata_keys");Object.defineProperty(i,"__esModule",{value:!0});i["default"]=e},{"../constants/metadata_keys":14,"../planning/metadata":22,"./decorator_utils":1}],3:[function(n,t,i){function f(){return function(n){if(Reflect.hasOwnMetadata(r.PARAM_TYPES,n)===!0)throw new Error(u.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.getMetadata(r.DESIGN_PARAM_TYPES,n)||[];return Reflect.defineMetadata(r.PARAM_TYPES,t,n),n}}var r=n("../constants/metadata_keys"),u=n("../constants/error_msgs");Object.defineProperty(i,"__esModule",{value:!0});i["default"]=f},{"../constants/error_msgs":13,"../constants/metadata_keys":14}],4:[function(n,t,i){function e(n){return function(t,i,e){var o=new r["default"](f.MULTI_INJECT_TAG,n);return u.tagParameter(t,i,e,o)}}var r=n("../planning/metadata"),u=n("./decorator_utils"),f=n("../constants/metadata_keys");Object.defineProperty(i,"__esModule",{value:!0});i["default"]=e},{"../constants/metadata_keys":14,"../planning/metadata":22,"./decorator_utils":1}],5:[function(n,t,i){function e(n){return function(t,i,e){var o=new u["default"](f.NAMED_TAG,n);return typeof e=="number"?r.tagParameter(t,i,e,o):r.tagProperty(t,i,o)}}var u=n("../planning/metadata"),r=n("./decorator_utils"),f=n("../constants/metadata_keys");Object.defineProperty(i,"__esModule",{value:!0});i["default"]=e},{"../constants/metadata_keys":14,"../planning/metadata":22,"./decorator_utils":1}],6:[function(n,t,i){function u(n,t,i){function u(){return Reflect.hasMetadata(r,this,t)||Reflect.defineMetadata(r,i(),this,t),Reflect.getMetadata(r,this,t)}function f(n){Reflect.defineMetadata(r,n,this,t)}Object.defineProperty(n,t,{configurable:!0,enumerable:!0,get:u,set:f})}function f(n){return function(t){return function(i,r){var f=function(){return n.get(t)};u(i,r,f)}}}function e(n){return function(t,i){return function(r,f){var e=function(){return n.getNamed(t,i)};u(r,f,e)}}}function o(n){return function(t,i,r){return function(f,e){var o=function(){return n.getTagged(t,i,r)};u(f,e,o)}}}function s(n){return function(t){return function(i,r){var f=function(){return n.getAll(t)};u(i,r,f)}}}var r=Symbol();i.makePropertyInjectDecorator=f;i.makePropertyInjectNamedDecorator=e;i.makePropertyInjectTaggedDecorator=o;i.makePropertyMultiInjectDecorator=s},{}],7:[function(n,t,i){function f(n,t){return function(i,f,e){var o=new u["default"](n,t);return typeof e=="number"?r.tagParameter(i,f,e,o):r.tagProperty(i,f,o)}}var u=n("../planning/metadata"),r=n("./decorator_utils");Object.defineProperty(i,"__esModule",{value:!0});i["default"]=f},{"../planning/metadata":22,"./decorator_utils":1}],8:[function(n,t,i){function e(n){return function(t,i,e){var o=new r["default"](f.NAME_TAG,n);return u.tagParameter(t,i,e,o)}}var r=n("../planning/metadata"),u=n("./decorator_utils"),f=n("../constants/metadata_keys");Object.defineProperty(i,"__esModule",{value:!0});i["default"]=e},{"../constants/metadata_keys":14,"../planning/metadata":22,"./decorator_utils":1}],9:[function(n,t,i){var r=n("./binding_scope"),u=n("./binding_type"),f=n("../utils/guid"),e=function(){function n(n){this.guid=f["default"]();this.activated=!1;this.serviceIdentifier=n;this.scope=r["default"].Transient;this.type=u["default"].Invalid;this.constraint=function(){return!0};this.implementationType=null;this.cache=null;this.factory=null;this.provider=null;this.onActivation=null}return n.prototype.clone=function(){var t=new n(this.serviceIdentifier);return t.activated=!1,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=e},{"../utils/guid":36,"./binding_scope":11,"./binding_type":12}],10:[function(n,t,i){var r;(function(n){n[n.NoBindingsAvailable=0]="NoBindingsAvailable";n[n.OnlyOneBindingAvailable=1]="OnlyOneBindingAvailable";n[n.MultipleBindingsAvailable=2]="MultipleBindingsAvailable"})(r||(r={}));Object.defineProperty(i,"__esModule",{value:!0});i["default"]=r},{}],11:[function(n,t,i){var r;(function(n){n[n.Transient=0]="Transient";n[n.Singleton=1]="Singleton"})(r||(r={}));Object.defineProperty(i,"__esModule",{value:!0});i["default"]=r},{}],12:[function(n,t,i){var r;(function(n){n[n.Invalid=0]="Invalid";n[n.Instance=1]="Instance";n[n.ConstantValue=2]="ConstantValue";n[n.DynamicValue=3]="DynamicValue";n[n.Constructor=4]="Constructor";n[n.Factory=5]="Factory";n[n.Function=6]="Function";n[n.Provider=7]="Provider"})(r||(r={}));Object.defineProperty(i,"__esModule",{value:!0});i["default"]=r},{}],13:[function(n,t,i){i.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.";i.DUPLICATED_METADATA="Metadadata key was used more than once in a parameter:";i.NULL_ARGUMENT="NULL argument";i.KEY_NOT_FOUND="Key Not Found";i.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:";i.CANNOT_UNBIND="Could not unbind serviceIdentifier:";i.NOT_REGISTERED="No bindings found for serviceIdentifier:";i.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:";i.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";i.CIRCULAR_DEPENDENCY="Circular dependency found between services:";i.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.";i.INVALID_BINDING_TYPE="Invalid binding type:";i.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.";i.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Return must be an Array!";i.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!";i.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";i.ARGUMENTS_LENGTH_MISMATCH_1="The number of constructor arguments in the derived class ";i.ARGUMENTS_LENGTH_MISMATCH_2=" must be >= than the number of constructor arguments of its base class."},{}],14:[function(n,t,i){i.NAMED_TAG="named";i.NAME_TAG="name";i.INJECT_TAG="inject";i.MULTI_INJECT_TAG="multi_inject";i.TAGGED="inversify:tagged";i.TAGGED_PROP="inversify:tagged_props";i.PARAM_TYPES="inversify:paramtypes";i.DESIGN_PARAM_TYPES="design:paramtypes"},{}],15:[function(n,t,i){var y=n("./kernel/kernel"),f,e,o,s,h,c,l,a,r,v,u;i.Kernel=y["default"];f=n("./kernel/kernel_module");i.KernelModule=f["default"];e=n("./annotation/injectable");i.injectable=e["default"];o=n("./annotation/tagged");i.tagged=o["default"];s=n("./annotation/named");i.named=s["default"];h=n("./annotation/inject");i.inject=h["default"];c=n("./annotation/multi_inject");i.multiInject=c["default"];l=n("./annotation/target_name");i.targetName=l["default"];a=n("./annotation/decorator_utils");i.decorate=a.decorate;r=n("./syntax/constraint_helpers");i.traverseAncerstors=r.traverseAncerstors;i.taggedConstraint=r.taggedConstraint;i.namedConstraint=r.namedConstraint;i.typeConstraint=r.typeConstraint;v=n("./utils/guid");i.guid=v["default"];u=n("./annotation/property_injectors");i.makePropertyInjectDecorator=u.makePropertyInjectDecorator;i.makePropertyMultiInjectDecorator=u.makePropertyMultiInjectDecorator;i.makePropertyInjectTaggedDecorator=u.makePropertyInjectTaggedDecorator;i.makePropertyInjectNamedDecorator=u.makePropertyInjectNamedDecorator},{"./annotation/decorator_utils":1,"./annotation/inject":2,"./annotation/injectable":3,"./annotation/multi_inject":4,"./annotation/named":5,"./annotation/property_injectors":6,"./annotation/tagged":7,"./annotation/target_name":8,"./kernel/kernel":16,"./kernel/kernel_module":17,"./syntax/constraint_helpers":35,"./utils/guid":36}],16:[function(n,t,i){var u=n("../bindings/binding_count"),e=n("../bindings/binding"),f=n("./lookup"),o=n("../planning/planner"),s=n("../resolution/resolver"),r=n("../constants/error_msgs"),h=n("../constants/metadata_keys"),c=n("../syntax/binding_to_syntax"),l=n("../planning/metadata"),a=n("../planning/target"),v=n("../planning/request"),y=n("./kernel_snapshot"),p=n("../utils/guid"),w=function(){function n(){this.guid=p["default"]();this._planner=new o["default"];this._resolver=new s["default"];this._bindingDictionary=new f["default"];this._middleware=null;this._snapshots=[]}return n.prototype.load=function(){for(var r,t=this,i=[],n=0;n<arguments.length;n++)i[+n]=arguments[n];r=function(n){return function(i){var u=t.bind.bind(t),r=u(i);return r._binding.moduleId=n,r}};i.forEach(function(n){var t=r(n.guid);n.registry(t)})},n.prototype.unload=function(){for(var i=this,t=[],n=0;n<arguments.length;n++)t[+n]=arguments[n];t.forEach(function(n){i._bindingDictionary.removeByModuleId(n.guid)})},n.prototype.bind=function(n){var t=new e["default"](n);return this._bindingDictionary.add(n,t),new c["default"](t)},n.prototype.unbind=function(n){try{this._bindingDictionary.remove(n)}catch(t){throw new Error(r.CANNOT_UNBIND+" "+this.getServiceIdentifierAsString(n));}},n.prototype.unbindAll=function(){this._bindingDictionary=new f["default"]},n.prototype.isBound=function(n){var t=this._planner.getBindings(this,n);return t.length>0},n.prototype.get=function(n){return this._get({contextInterceptor:function(n){return n},multiInject:!1,serviceIdentifier:n,target:null})[0]},n.prototype.getNamed=function(n,t){return this.getTagged(n,h.NAMED_TAG,t)},n.prototype.getTagged=function(n,t,i){var r=new l["default"](t,i),u=new a["default"](null,n,r);return this._get({contextInterceptor:function(n){return n},multiInject:!1,serviceIdentifier:n,target:u})[0]},n.prototype.snapshot=function(){this._snapshots.push(y["default"].of(this._bindingDictionary.clone(),this._middleware))},n.prototype.restore=function(){if(this._snapshots.length===0)throw new Error(r.NO_MORE_SNAPSHOTS_AVAILABLE);var n=this._snapshots.pop();this._bindingDictionary=n.bindings;this._middleware=n.middleware},n.prototype.getServiceIdentifierAsString=function(n){var t=typeof n,i;return t==="function"?(i=n,i.name):t==="symbol"?n.toString():n},n.prototype.applyMiddleware=function(){for(var i,t=[],n=0;n<arguments.length;n++)t[+n]=arguments[n];i=this._middleware?this._middleware:this._planAndResolve.bind(this);this._middleware=t.reduce(function(n,t){return t(n)},i)},n.prototype.getAll=function(n){return this._get({contextInterceptor:function(n){return n},multiInject:!0,serviceIdentifier:n,target:null})},n.prototype._get=function(n){var t=null;if(t=this._middleware?this._middleware(n):this._planAndResolve(n),Array.isArray(t)===!1)throw new Error(r.INVALID_MIDDLEWARE_RETURN);return t},n.prototype._planAndResolve=function(n){var t=this._plan(n.multiInject,n.serviceIdentifier,n.target);return this._resolve(t,n.contextInterceptor)},n.prototype._getActiveBindings=function(n,t,i){var f=this._planner.getBindings(this,t),e;i!==null&&(e=new v["default"](t,this._planner.createContext(this),null,f,i),f=this._planner.getActiveBindings(e,i));switch(f.length){case u["default"].NoBindingsAvailable:throw new Error(r.NOT_REGISTERED+" "+this.getServiceIdentifierAsString(t));case u["default"].OnlyOneBindingAvailable:if(n===!1)return f;case u["default"].MultipleBindingsAvailable:default:if(n===!1)throw new Error(r.AMBIGUOUS_MATCH+" "+this.getServiceIdentifierAsString(t));else return f}},n.prototype._plan=function(n,t,i){var r=this,u=this._getActiveBindings(n,t,i);return u.map(function(n){return r._createContext(n,i)})},n.prototype._createContext=function(n,t){var i=this._planner.createContext(this);return this._planner.createPlan(i,n,t),i},n.prototype._resolve=function(n,t){var i=this;return n.map(function(n){return i._resolver.resolve(t(n))})},n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=w},{"../bindings/binding":9,"../bindings/binding_count":10,"../constants/error_msgs":13,"../constants/metadata_keys":14,"../planning/metadata":22,"../planning/planner":24,"../planning/request":26,"../planning/target":27,"../resolution/resolver":28,"../syntax/binding_to_syntax":32,"../utils/guid":36,"./kernel_snapshot":18,"./lookup":20}],17:[function(n,t,i){var r=n("../utils/guid"),u=function(){function n(n){this.guid=r["default"]();this.registry=n}return n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=u},{"../utils/guid":36}],18:[function(n,t,i){var r=function(){function n(){}return n.of=function(t,i){var r=new n;return r.bindings=t,r.middleware=i,r},n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=r},{}],19:[function(n,t,i){var r=n("../utils/guid"),u=function(){function n(n,t){this.serviceIdentifier=n;this.value=[];this.value.push(t);this.guid=r["default"]()}return n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=u},{"../utils/guid":36}],20:[function(n,t,i){var u=n("./key_value_pair"),r=n("../constants/error_msgs"),f=function(){function n(){this._dictionary=[]}return n.prototype.add=function(n,t){if(n===null||n===undefined)throw new Error(r.NULL_ARGUMENT);if(t===null||t===undefined)throw new Error(r.NULL_ARGUMENT);var i=this.getIndexByKey(n);i!==-1?this._dictionary[i].value.push(t):this._dictionary.push(new u["default"](n,t))},n.prototype.get=function(n){if(n===null||n===undefined)throw new Error(r.NULL_ARGUMENT);var t=this.getIndexByKey(n);if(t!==-1)return this._dictionary[t].value;throw new Error(r.KEY_NOT_FOUND);},n.prototype.remove=function(n){if(n===null||n===undefined)throw new Error(r.NULL_ARGUMENT);var t=this.getIndexByKey(n);if(t!==-1)this._dictionary.splice(t,1);else throw new Error(r.KEY_NOT_FOUND);},n.prototype.removeByModuleId=function(n){this._dictionary.forEach(function(t){t.value=t.value.filter(function(t){return t.moduleId!==n})});this._dictionary=this._dictionary.filter(function(n){return n.value.length>0})},n.prototype.hasKey=function(n){if(n===null||n===undefined)throw new Error(r.NULL_ARGUMENT);var t=this.getIndexByKey(n);return t!==-1?!0:!1},n.prototype.clone=function(){for(var r,t,u,o,f=new n,i=0,e=this._dictionary;i<e.length;i++)for(r=e[i],t=0,u=r.value;t<u.length;t++)o=u[t],f.add(r.serviceIdentifier,o.clone());return f},n.prototype.getIndexByKey=function(n){for(var r,i=-1,t=0;t<this._dictionary.length;t++)r=this._dictionary[t],r.serviceIdentifier===n&&(i=t);return i},n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=f},{"../constants/error_msgs":13,"./key_value_pair":19}],21:[function(n,t,i){var r=n("../utils/guid"),u=function(){function n(n){this.guid=r["default"]();this.kernel=n}return n.prototype.addPlan=function(n){this.plan=n},n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=u},{"../utils/guid":36}],22:[function(n,t,i){var r=function(){function n(n,t){this.key=n;this.value=t}return n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=r},{}],23:[function(n,t,i){var r=function(){function n(n,t){this.parentContext=n;this.rootRequest=t}return n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=r},{}],24:[function(n,t,i){var e=n("./plan"),o=n("./context"),f=n("./request"),s=n("./target"),u=n("../constants/metadata_keys"),r=n("../constants/error_msgs"),h=n("../bindings/binding_type"),c=function(){function n(){}return n.prototype.createContext=function(n){return new o["default"](n)},n.prototype.createPlan=function(n,t,i){var s=this,r=new f["default"](t.serviceIdentifier,n,null,t,i),u=new e["default"](n,r),o;return n.addPlan(u),o=this._getDependencies(t.implementationType),o.forEach(function(n){s._createSubRequest(r,n)}),u},n.prototype.getBindings=function(n,t){var i=[],u=n,r=u._bindingDictionary;return r.hasKey(t)&&(i=r.get(t)),i},n.prototype.getActiveBindings=function(n,t){var i=this.getBindings(n.parentContext.kernel,t.serviceIdentifier);return i.length>1&&t.isArray()===!1?i.filter(function(i){var r=new f["default"](i.serviceIdentifier,n.parentContext,n,i,t);return i.constraint(r)}):i},n.prototype._createSubRequest=function(n,t){var i,u;try{if(i=this.getActiveBindings(n,t),i.length===0){u=n.parentContext.kernel.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(r.NOT_REGISTERED+" "+u);}else if(i.length>1&&t.isArray()===!1){u=n.parentContext.kernel.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error(r.AMBIGUOUS_MATCH+" "+u);}else this._createChildRequest(n,t,i)}catch(f){if(f instanceof RangeError)this._throwWhenCircularDependenciesFound(n.parentContext.plan.rootRequest);else throw new Error(f.message);}},n.prototype._createChildRequest=function(n,t,i){var r=this,u=n.addChildRequest(t.serviceIdentifier,i,t),f=u;i.forEach(function(n){if(t.isArray()&&(f=u.addChildRequest(n.serviceIdentifier,n,t)),n.type===h["default"].Instance){var i=r._getDependencies(n.implementationType);i.forEach(function(n){r._createSubRequest(f,n)})}})},n.prototype._throwWhenCircularDependenciesFound=function(n,t){var i=this;t===void 0&&(t=[]);t.push(n.serviceIdentifier);n.childRequests.forEach(function(u){var f=n.parentContext.kernel.getServiceIdentifierAsString(u.serviceIdentifier),e;if(t.indexOf(f)===-1)u.childRequests.length>0?i._throwWhenCircularDependenciesFound(u,t):t.push(f);else{e=n.parentContext.kernel.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(r.CIRCULAR_DEPENDENCY+" "+f+" and "+e);}})},n.prototype._getDependencies=function(n){var t,f,o,i,h,c;if(n===null)return[];if(t=n.name,f=Reflect.getMetadata(u.PARAM_TYPES,n),f===undefined){o=r.MISSING_INJECTABLE_ANNOTATION+" "+t+".";throw new Error(o);}var l=Reflect.getMetadata(u.TAGGED,n)||[],e=[],a=function(n){var i=f[n],c=l[n.toString()]||[],o={},y,h;c.forEach(function(n){o[n.key.toString()]=n.value});var a=o[u.INJECT_TAG],v=o[u.MULTI_INJECT_TAG],p=o[u.NAME_TAG];if(i=a||v?a||v:i,i===Object||i===Function||i===undefined){y=r.MISSING_INJECT_ANNOTATION+" argument "+n+" in class "+t+".";throw new Error(y);}h=new s["default"](p,i);h.metadata=c;e.push(h)};for(i=0;i<n.length;i++)a(i);if(h=this._baseClassDepencencyCount(n),e.length<h){c=r.ARGUMENTS_LENGTH_MISMATCH_1+t+r.ARGUMENTS_LENGTH_MISMATCH_2;throw new Error(c);}return e},n.prototype._baseClassDepencencyCount=function(n){var t=Object.getPrototypeOf(n.prototype).constructor,i,f,e;if(t!==Object){if(i=Reflect.getMetadata(u.PARAM_TYPES,t),i===undefined){f=t.name;e=r.MISSING_INJECTABLE_ANNOTATION+" "+f+".";throw new Error(e);}return t.length>0&&i?t.length:this._baseClassDepencencyCount(t)}return 0},n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=c},{"../bindings/binding_type":12,"../constants/error_msgs":13,"../constants/metadata_keys":14,"./context":21,"./plan":23,"./request":26,"./target":27}],25:[function(n,t,i){var r=function(){function n(n){this.str=n}return n.prototype.startsWith=function(n){return this.str.indexOf(n)===0},n.prototype.endsWith=function(n){var t="",i=n.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},i)},n.prototype.contains=function(n){return this.str.indexOf(n)!==-1},n.prototype.equals=function(n){return this.str===n},n.prototype.value=function(){return this.str},n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=r},{}],26:[function(n,t,i){var r=n("../utils/guid"),u=function(){function n(n,t,i,u,f){f===void 0&&(f=null);this.guid=r["default"]();this.serviceIdentifier=n;this.parentContext=t;this.parentRequest=i;this.target=f;this.childRequests=[];this.bindings=Array.isArray(u)?u:u?[u]:[]}return n.prototype.addChildRequest=function(t,i,r){var u=new n(t,this.parentContext,this,i,r);return this.childRequests.push(u),u},n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=u},{"../utils/guid":36}],27:[function(n,t,i){var u=n("../planning/metadata"),f=n("./queryable_string"),r=n("../constants/metadata_keys"),e=n("../utils/guid"),o=function(){function n(n,t,i){this.guid=e["default"]();this.serviceIdentifier=t;this.name=new f["default"](n||"");this.metadata=[];var o=null;typeof i=="string"?o=new u["default"](r.NAMED_TAG,i):i instanceof u["default"]&&(o=i);o!==null&&this.metadata.push(o)}return n.prototype.hasTag=function(n){for(var i,t=0;t<this.metadata.length;t++)if(i=this.metadata[t],i.key===n)return!0;return!1},n.prototype.isArray=function(){return this.hasTag(r.MULTI_INJECT_TAG)},n.prototype.matchesArray=function(n){return this.matchesTag(r.MULTI_INJECT_TAG)(n)},n.prototype.isNamed=function(){return this.hasTag(r.NAMED_TAG)},n.prototype.isTagged=function(){return this.metadata.length>1?!0:this.metadata.length===1?!this.hasTag(r.NAMED_TAG):!1},n.prototype.matchesNamedTag=function(n){return this.matchesTag(r.NAMED_TAG)(n)},n.prototype.matchesTag=function(n){var t=this;return function(i){for(var u,r=0;r<t.metadata.length;r++)if(u=t.metadata[r],u.key===n&&u.value===i)return!0;return!1}},n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=o},{"../constants/metadata_keys":14,"../planning/metadata":22,"../utils/guid":36,"./queryable_string":25}],28:[function(n,t,i){var u=n("../bindings/binding_scope"),r=n("../bindings/binding_type"),f=n("../constants/error_msgs"),e=function(){function n(){}return n.prototype.resolve=function(n){var t=n.plan.rootRequest;return this._resolve(t)},n.prototype._resolve=function(n){var s=this,a=n.bindings,e=n.childRequests,o,c,l;if(n.target&&n.target.isArray()&&(!n.parentRequest.target||!n.parentRequest.target.matchesArray(n.target.serviceIdentifier)))return e.map(function(n){return s._resolve(n)});var i=null,t=a[0],h=t.scope===u["default"].Singleton;if(h&&t.activated===!0)return t.cache;switch(t.type){case r["default"].ConstantValue:i=t.cache;break;case r["default"].DynamicValue:i=t.dynamicValue();break;case r["default"].Constructor:i=t.implementationType;break;case r["default"].Factory:i=t.factory(n.parentContext);break;case r["default"].Function:i=t.cache;break;case r["default"].Provider:i=t.provider(n.parentContext);break;case r["default"].Instance:o=t.implementationType;e.length>0?(c=e.map(function(n){return s._resolve(n)}),i=this._createInstance(o,c)):i=new o;break;case r["default"].Invalid:default:l=n.parentContext.kernel.getServiceIdentifierAsString(n.serviceIdentifier);throw new Error(f.INVALID_BINDING_TYPE+" "+l);}return typeof t.onActivation=="function"&&(i=t.onActivation(n.parentContext,i)),h&&(t.cache=i,t.activated=!0),i},n.prototype._createInstance=function(n,t){return new(n.bind.apply(n,[void 0].concat(t)))},n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=e},{"../bindings/binding_scope":11,"../bindings/binding_type":12,"../constants/error_msgs":13}],29:[function(n,t,i){var r=n("../bindings/binding_scope"),u=n("./binding_when_on_syntax"),f=function(){function n(n){this._binding=n}return n.prototype.inSingletonScope=function(){return this._binding.scope=r["default"].Singleton,new u["default"](this._binding)},n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=f},{"../bindings/binding_scope":11,"./binding_when_on_syntax":33}],30:[function(n,t,i){var r=n("./binding_in_syntax"),u=n("./binding_when_syntax"),f=n("./binding_on_syntax"),e=function(){function n(n){this._binding=n;this._bindingWhenSyntax=new u["default"](this._binding);this._bindingOnSyntax=new f["default"](this._binding);this._bindingInSyntax=new r["default"](n)}return n.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},n.prototype.when=function(n){return this._bindingWhenSyntax.when(n)},n.prototype.whenTargetNamed=function(n){return this._bindingWhenSyntax.whenTargetNamed(n)},n.prototype.whenTargetTagged=function(n,t){return this._bindingWhenSyntax.whenTargetTagged(n,t)},n.prototype.whenInjectedInto=function(n){return this._bindingWhenSyntax.whenInjectedInto(n)},n.prototype.whenParentNamed=function(n){return this._bindingWhenSyntax.whenParentNamed(n)},n.prototype.whenParentTagged=function(n,t){return this._bindingWhenSyntax.whenParentTagged(n,t)},n.prototype.whenAnyAncestorIs=function(n){return this._bindingWhenSyntax.whenAnyAncestorIs(n)},n.prototype.whenNoAncestorIs=function(n){return this._bindingWhenSyntax.whenNoAncestorIs(n)},n.prototype.whenAnyAncestorNamed=function(n){return this._bindingWhenSyntax.whenAnyAncestorNamed(n)},n.prototype.whenAnyAncestorTagged=function(n,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(n,t)},n.prototype.whenNoAncestorNamed=function(n){return this._bindingWhenSyntax.whenNoAncestorNamed(n)},n.prototype.whenNoAncestorTagged=function(n,t){return this._bindingWhenSyntax.whenNoAncestorTagged(n,t)},n.prototype.whenAnyAncestorMatches=function(n){return this._bindingWhenSyntax.whenAnyAncestorMatches(n)},n.prototype.whenNoAncestorMatches=function(n){return this._bindingWhenSyntax.whenNoAncestorMatches(n)},n.prototype.onActivation=function(n){return this._bindingOnSyntax.onActivation(n)},n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=e},{"./binding_in_syntax":29,"./binding_on_syntax":31,"./binding_when_syntax":34}],31:[function(n,t,i){var r=n("./binding_when_syntax"),u=function(){function n(n){this._binding=n}return n.prototype.onActivation=function(n){return this._binding.onActivation=n,new r["default"](this._binding)},n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=u},{"./binding_when_syntax":34}],32:[function(n,t,i){var f=n("./binding_in_when_on_syntax"),u=n("./binding_when_on_syntax"),r=n("../bindings/binding_type"),e=n("../constants/error_msgs"),o=function(){function n(n){this._binding=n}return n.prototype.to=function(n){return this._binding.type=r["default"].Instance,this._binding.implementationType=n,new f["default"](this._binding)},n.prototype.toSelf=function(){return this.to(this._binding.serviceIdentifier)},n.prototype.toConstantValue=function(n){return this._binding.type=r["default"].ConstantValue,this._binding.cache=n,this._binding.dynamicValue=null,this._binding.implementationType=null,new u["default"](this._binding)},n.prototype.toDynamicValue=function(n){return this._binding.type=r["default"].DynamicValue,this._binding.cache=null,this._binding.dynamicValue=n,this._binding.implementationType=null,new u["default"](this._binding)},n.prototype.toConstructor=function(n){return this._binding.type=r["default"].Constructor,this._binding.implementationType=n,new u["default"](this._binding)},n.prototype.toFactory=function(n){return this._binding.type=r["default"].Factory,this._binding.factory=n,new u["default"](this._binding)},n.prototype.toFunction=function(n){if(typeof n!="function")throw new Error(e.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(n);return this._binding.type=r["default"].Function,t},n.prototype.toAutoFactory=function(n){return this._binding.type=r["default"].Factory,this._binding.factory=function(t){return function(){return t.kernel.get(n)}},new u["default"](this._binding)},n.prototype.toProvider=function(n){return this._binding.type=r["default"].Provider,this._binding.provider=n,new u["default"](this._binding)},n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=o},{"../bindings/binding_type":12,"../constants/error_msgs":13,"./binding_in_when_on_syntax":30,"./binding_when_on_syntax":33}],33:[function(n,t,i){var r=n("./binding_when_syntax"),u=n("./binding_on_syntax"),f=function(){function n(n){this._binding=n;this._bindingWhenSyntax=new r["default"](this._binding);this._bindingOnSyntax=new u["default"](this._binding)}return n.prototype.when=function(n){return this._bindingWhenSyntax.when(n)},n.prototype.whenTargetNamed=function(n){return this._bindingWhenSyntax.whenTargetNamed(n)},n.prototype.whenTargetTagged=function(n,t){return this._bindingWhenSyntax.whenTargetTagged(n,t)},n.prototype.whenInjectedInto=function(n){return this._bindingWhenSyntax.whenInjectedInto(n)},n.prototype.whenParentNamed=function(n){return this._bindingWhenSyntax.whenParentNamed(n)},n.prototype.whenParentTagged=function(n,t){return this._bindingWhenSyntax.whenParentTagged(n,t)},n.prototype.whenAnyAncestorIs=function(n){return this._bindingWhenSyntax.whenAnyAncestorIs(n)},n.prototype.whenNoAncestorIs=function(n){return this._bindingWhenSyntax.whenNoAncestorIs(n)},n.prototype.whenAnyAncestorNamed=function(n){return this._bindingWhenSyntax.whenAnyAncestorNamed(n)},n.prototype.whenAnyAncestorTagged=function(n,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(n,t)},n.prototype.whenNoAncestorNamed=function(n){return this._bindingWhenSyntax.whenNoAncestorNamed(n)},n.prototype.whenNoAncestorTagged=function(n,t){return this._bindingWhenSyntax.whenNoAncestorTagged(n,t)},n.prototype.whenAnyAncestorMatches=function(n){return this._bindingWhenSyntax.whenAnyAncestorMatches(n)},n.prototype.whenNoAncestorMatches=function(n){return this._bindingWhenSyntax.whenNoAncestorMatches(n)},n.prototype.onActivation=function(n){return this._bindingOnSyntax.onActivation(n)},n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=f},{"./binding_on_syntax":31,"./binding_when_syntax":34}],34:[function(n,t,i){var u=n("./binding_on_syntax"),r=n("./constraint_helpers"),f=function(){function n(n){this._binding=n}return n.prototype.when=function(n){return this._binding.constraint=n,new u["default"](this._binding)},n.prototype.whenTargetNamed=function(n){return this._binding.constraint=r.namedConstraint(n),new u["default"](this._binding)},n.prototype.whenTargetTagged=function(n,t){return this._binding.constraint=r.taggedConstraint(n)(t),new u["default"](this._binding)},n.prototype.whenInjectedInto=function(n){return this._binding.constraint=function(t){return r.typeConstraint(n)(t.parentRequest)},new u["default"](this._binding)},n.prototype.whenParentNamed=function(n){return this._binding.constraint=function(t){return r.namedConstraint(n)(t.parentRequest)},new u["default"](this._binding)},n.prototype.whenParentTagged=function(n,t){return this._binding.constraint=function(i){return r.taggedConstraint(n)(t)(i.parentRequest)},new u["default"](this._binding)},n.prototype.whenAnyAncestorIs=function(n){return this._binding.constraint=function(t){return r.traverseAncerstors(t,r.typeConstraint(n))},new u["default"](this._binding)},n.prototype.whenNoAncestorIs=function(n){return this._binding.constraint=function(t){return!r.traverseAncerstors(t,r.typeConstraint(n))},new u["default"](this._binding)},n.prototype.whenAnyAncestorNamed=function(n){return this._binding.constraint=function(t){return r.traverseAncerstors(t,r.namedConstraint(n))},new u["default"](this._binding)},n.prototype.whenNoAncestorNamed=function(n){return this._binding.constraint=function(t){return!r.traverseAncerstors(t,r.namedConstraint(n))},new u["default"](this._binding)},n.prototype.whenAnyAncestorTagged=function(n,t){return this._binding.constraint=function(i){return r.traverseAncerstors(i,r.taggedConstraint(n)(t))},new u["default"](this._binding)},n.prototype.whenNoAncestorTagged=function(n,t){return this._binding.constraint=function(i){return!r.traverseAncerstors(i,r.taggedConstraint(n)(t))},new u["default"](this._binding)},n.prototype.whenAnyAncestorMatches=function(n){return this._binding.constraint=function(t){return r.traverseAncerstors(t,n)},new u["default"](this._binding)},n.prototype.whenNoAncestorMatches=function(n){return this._binding.constraint=function(t){return!r.traverseAncerstors(t,n)},new u["default"](this._binding)},n}();Object.defineProperty(i,"__esModule",{value:!0});i["default"]=f},{"./binding_on_syntax":31,"./constraint_helpers":35}],35:[function(n,t,i){var e=n("../constants/metadata_keys"),o=function(n,t){var r=!0,f,u,i;n:while(r)if(f=n,u=t,r=!1,i=f.parentRequest,i!==null){if(u(i))return!0;n=i;t=u;r=!0;i=undefined;continue n}else return!1},r,u,f;i.traverseAncerstors=o;r=function(n){return function(t){return function(i){return i.target.matchesTag(n)(t)}}};i.taggedConstraint=r;u=r(e.NAMED_TAG);i.namedConstraint=u;f=function(n){return function(t){var u=t.bindings[0],i,r;return typeof n=="string"?(i=u.serviceIdentifier,i===n):(r=t.bindings[0].implementationType,n===r)}};i.typeConstraint=f},{"../constants/metadata_keys":14}],36:[function(n,t,i){function r(){function n(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return n()+n()+"-"+n()+"-"+n()+"-"+n()+"-"+n()+n()+n()}Object.defineProperty(i,"__esModule",{value:!0});i["default"]=r},{}]},{},[15])(15)});